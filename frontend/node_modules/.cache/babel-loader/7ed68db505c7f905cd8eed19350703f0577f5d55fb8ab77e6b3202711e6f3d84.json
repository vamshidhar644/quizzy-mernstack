{"ast":null,"code":"import _slicedToArray from\"P:/MERN Industrial Internship/Project/Quizzy_Fullstack/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';/** Custom Hook */import{useFetchQestion}from'../hooks/FetchQuestion';import{updateResult}from'../hooks/setResult';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Questions(_ref){var onChecked=_ref.onChecked;var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];var _useSelector=useSelector(function(state){return state.questions;}),trace=_useSelector.trace;var result=useSelector(function(state){return state.result.result;});var _useFetchQestion=useFetchQestion(),_useFetchQestion2=_slicedToArray(_useFetchQestion,1),_useFetchQestion2$=_useFetchQestion2[0],isLoading=_useFetchQestion2$.isLoading,serverError=_useFetchQestion2$.serverError;var questions=useSelector(function(state){return state.questions.queue[state.questions.trace];});var dispatch=useDispatch();useEffect(function(){dispatch(updateResult({trace:trace,checked:checked}));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[checked]);function onSelect(i){onChecked(i);setChecked(i);dispatch(updateResult({trace:trace,checked:checked}));}if(isLoading)return/*#__PURE__*/_jsx(\"h3\",{className:\"text-light\",children:\"isLoading\"});if(serverError)return/*#__PURE__*/_jsx(\"h3\",{className:\"text-light\",children:serverError||'Unknown Error'});return/*#__PURE__*/_jsxs(\"div\",{className:\"questions\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-light\",children:questions===null||questions===void 0?void 0:questions.question}),/*#__PURE__*/_jsx(\"ul\",{children:questions===null||questions===void 0?void 0:questions.options.map(function(qstn,i){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:false,name:\"options\",id:\"q\".concat(i,\"-option\"),onChange:function onChange(){return onSelect(i);}}),/*#__PURE__*/_jsx(\"label\",{className:\"text-primary\",htmlFor:\"q\".concat(i,\"-option\"),children:qstn}),/*#__PURE__*/_jsx(\"div\",{className:\"check \".concat(result[trace]===i?'checked':'')})]},i);})},questions===null||questions===void 0?void 0:questions.id)]});}","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useFetchQestion","updateResult","jsx","_jsx","jsxs","_jsxs","Questions","_ref","onChecked","_useState","undefined","_useState2","_slicedToArray","checked","setChecked","_useSelector","state","questions","trace","result","_useFetchQestion","_useFetchQestion2","_useFetchQestion2$","isLoading","serverError","queue","dispatch","onSelect","i","className","children","question","options","map","qstn","type","value","name","id","concat","onChange","htmlFor"],"sources":["P:/MERN Industrial Internship/Project/Quizzy_Fullstack/frontend/src/components/Questions.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\n/** Custom Hook */\nimport { useFetchQestion } from '../hooks/FetchQuestion';\nimport { updateResult } from '../hooks/setResult';\n\nexport default function Questions({ onChecked }) {\n  const [checked, setChecked] = useState(undefined);\n  const { trace } = useSelector((state) => state.questions);\n  const result = useSelector((state) => state.result.result);\n  const [{ isLoading, serverError }] = useFetchQestion();\n\n  const questions = useSelector(\n    (state) => state.questions.queue[state.questions.trace]\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(updateResult({ trace, checked }));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [checked]);\n\n  function onSelect(i) {\n    onChecked(i);\n    setChecked(i);\n    dispatch(updateResult({ trace, checked }));\n  }\n\n  if (isLoading) return <h3 className=\"text-light\">isLoading</h3>;\n  if (serverError)\n    return <h3 className=\"text-light\">{serverError || 'Unknown Error'}</h3>;\n\n  return (\n    <div className=\"questions\">\n      <h2 className=\"text-light\">{questions?.question}</h2>\n\n      <ul key={questions?.id}>\n        {questions?.options.map((qstn, i) => (\n          <li key={i}>\n            <input\n              type=\"radio\"\n              value={false}\n              name=\"options\"\n              id={`q${i}-option`}\n              onChange={() => onSelect(i)}\n            />\n\n            <label className=\"text-primary\" htmlFor={`q${i}-option`}>\n              {qstn}\n            </label>\n            <div\n              className={`check ${result[trace] === i ? 'checked' : ''}`}\n            ></div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}